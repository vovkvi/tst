/**
 * @license Hyphenopoly 5.0.0-beta.4 - client side hyphenation for webbrowsers
 * ©2022  Mathias Nater, Güttingen (mathiasnater at gmail dot com)
 * https://github.com/mnater/Hyphenopoly
 *
 * Released under the MIT license
 * http://mnater.github.io/Hyphenopoly/LICENSE
 */
((e,t)=>{"use strict";const n="­",r=(n=>{const r=new Map([["afterElementHyphenation",[]],["beforeElementHyphenation",[]],["engineReady",[]],["error",[t=>{t.runDefault&&e.console.warn(t)}]],["hyphenopolyEnd",[]],["hyphenopolyStart",[]]]);if(n.hev){const e=new Map(t.entries(n.hev));r.forEach((t,n)=>{e.has(n)&&t.unshift(e.get(n))})}return{fire:(e,t)=>{t.runDefault=!0,t.preventDefault=(()=>{t.runDefault=!1}),r.get(e).forEach(e=>{e(t)})}}})(Hyphenopoly);(e=>{function r(e){const t=new Map;function n(n){return t.has(n)?t.get(n):e.get(n)}function r(e,n){t.set(e,n)}return new Proxy(e,{get:(e,t)=>"set"===t?r:"get"===t?n:n(t),ownKeys:()=>[...new Set([...e.keys(),...t.keys()])]})}const a=r(new Map([["defaultLanguage","en-us"],["dontHyphenate",r(new Map("abbr,acronym,audio,br,button,code,img,input,kbd,label,math,option,pre,samp,script,style,sub,sup,svg,textarea,var,video".split(",").map(e=>[e,!0])))],["dontHyphenateClass","donthyphenate"],["exceptions",new Map],["keepAlive",!0],["normalize",!1],["processShadows",!1],["safeCopy",!0],["substitute",new Map],["timeout",1e3]]));t.entries(e.s).forEach(([e,o])=>{switch(e){case"selectors":a.set("selectors",t.keys(o)),t.entries(o).forEach(([e,o])=>{const s=r(new Map([["compound","hyphen"],["hyphen",n],["leftmin",0],["leftminPerLang",0],["minWordLength",6],["mixedCase",!0],["orphanControl",1],["rightmin",0],["rightminPerLang",0]]));t.entries(o).forEach(([e,n])=>{"object"==typeof n?s.set(e,new Map(t.entries(n))):s.set(e,n)}),a.set(e,s)});break;case"dontHyphenate":case"exceptions":t.entries(o).forEach(([t,n])=>{a.get(e).set(t,n)});break;case"substitute":t.entries(o).forEach(([e,n])=>{a.substitute.set(e,new Map(t.entries(n)))});break;default:a.set(e,o)}}),e.c=a})(Hyphenopoly),(a=>{const o=a.c;let s=null;function l(e,t="",n=!0){return(e=e.closest("[lang]:not([lang=''])"))&&e.lang?e.lang.toLowerCase():t||(n?s:null)}function i(s=null,i=null){const c=function(){const e=new Map,t=[0];return{add:function(n,r,a){const o={element:n,selector:a};return e.has(r)||e.set(r,[]),e.get(r).push(o),t[0]+=1,o},counter:t,list:e,rem:function(n){let a=0;e.has(n)&&(a=e.get(n).length,e.delete(n),t[0]-=a,0===t[0]&&(r.fire("hyphenopolyEnd",{msg:"hyphenopolyEnd"}),o.keepAlive||(window.Hyphenopoly=null)))}}}(),h=(()=>{let e="."+o.dontHyphenateClass;return t.getOwnPropertyNames(o.dontHyphenate).forEach(t=>{o.dontHyphenate.get(t)&&(e+=","+t)}),e})(),p=o.selectors.join(",")+","+h;function u(t,s,i,h=!1){const g=l(t,s),f=a.cf.langs.get(g);"H9Y"===f?(c.add(t,g,i),!h&&o.safeCopy&&function(t){t.addEventListener("copy",t=>{t.preventDefault();const r=e.getSelection(),a=document.createElement("div");a.appendChild(r.getRangeAt(0).cloneContents()),t.clipboardData.setData("text/plain",r.toString().replace(RegExp(n,"g"),"")),t.clipboardData.setData("text/html",a.innerHTML.replace(RegExp(n,"g"),""))},!0)}(t)):f||"zxx"===g||r.fire("error",Error(`Element with '${g}' found, but '${g}.wasm' not loaded. Check language tags!`)),t.childNodes.forEach(e=>{1!==e.nodeType||e.matches(p)||u(e,g,i,!0)})}function g(e){o.selectors.forEach(t=>{e.querySelectorAll(t).forEach(e=>{u(e,l(e),t,!1)})})}return null===s?(o.processShadows&&e.document.querySelectorAll("*").forEach(e=>{e.shadowRoot&&g(e.shadowRoot)}),g(e.document)):u(s,l(s),i),c}r.fire("hyphenopolyStart",{msg:"hyphenopolyStart"});const c=new Map;function h(e,t,n){const a=t+"-"+n;if(c.has(a))return c.get(a);const s=o.get(n);function l(a){let o=e.cache.get(n).get(a);return o||(o=e.exc.has(a)?e.exc.get(a).replace(/-/g,s.hyphen):!s.mixedCase&&[...a].map(e=>e===e.toLowerCase()).some((e,t,n)=>e!==n[0])?a:-1===a.indexOf("-")?function(n){if(n.length>61)r.fire("error",Error("Found word longer than 61 characters"));else if(!e.reNotAlphabet.test(n))return e.hyphenate(n,s.hyphen.charCodeAt(0),s.leftminPerLang.get(t),s.rightminPerLang.get(t));return n}(a):function(r){let a=null,o=null;return"auto"===s.compound||"all"===s.compound?(o=h(e,t,n),a=r.split("-").map(e=>e.length>=s.minWordLength?o(e):e),r="auto"===s.compound?a.join("-"):a.join("-​")):r=r.replace("-","-​"),r}(a),e.cache.get(n).set(a,o)),o}return e.cache.set(n,new Map),c.set(a,l),l}const p=new Map;const u=new Map;function g(e,t,n){const s=a.languages.get(e),l=o.get(t),i=l.minWordLength,c=(()=>{const t=e+i;if(u.has(t))return u.get(t);const n=RegExp(`[${s.alphabet}a-z̀-ͯ҃-҇ß-öø-þāăąćĉčďđēėęěĝğģĥīįıĵķļľłńņňōőœŕřśŝşšťūŭůűųźżžſǎǐǒǔǖǘǚǜșțʼΐά-ώϐϣϥϧϩϫϭϯϲа-яё-ќўџґүөա-օևअ-ऌएऐओ-नप-रलळव-हऽॠॡঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹઅ-ઋએઐઓ-નપ-રલળવ-હઽૠଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହୠୡஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-வஷ-ஹఅ-ఌఎ-ఐఒ-నప-ళవ-హౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡഅ-ഌഎ-ഐഒ-നപ-ഹൠൡൺ-ൿก-ฮะาำเ-ๅა-ჰሀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏḍḷṁṃṅṇṭἀ-ἇἐ-ἕἠ-ἧἰ-ἷὀ-ὅὐ-ὗὠ-ὧὰ-ώᾀ-ᾇᾐ-ᾗᾠ-ᾧᾲ-ᾴᾶᾷῂ-ῄῆῇῒΐῖῗῢ-ῧῲ-ῴῶῷⲁⲃⲅⲇⲉⲍⲏⲑⲓⲕⲗⲙⲛⲝⲟⲡⲣⲥⲧⲩⲫⲭⲯⲱⳉⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮ­​-‍-]{${i},}`,"gui");return u.set(t,n),n})();function g(n){o.normalize&&(n=n.normalize("NFC"));let r=n.replace(c,h(s,e,t));return 1!==l.orphanControl&&(r=r.replace(/(\u0020*)(\S+)(\s*)$/,function(e){if(p.has(e))return p.get(e);const t=o.get(e);function n(e,n,r,a){return 3===t.orphanControl&&" "===n&&(n=" "),n+r.replace(RegExp(t.hyphen,"g"),"")+a}return p.set(e,n),n}(t))),r}let f=null;var d;return"string"==typeof n?f=g(n):n instanceof HTMLElement&&(d=n,r.fire("beforeElementHyphenation",{el:d,lang:e}),d.childNodes.forEach(e=>{3===e.nodeType&&/\S/.test(e.data)&&e.data.length>=i&&(e.data=g(e.data))}),a.res.els.counter[0]-=1,r.fire("afterElementHyphenation",{el:d,lang:e})),f}function f(t,n){const s=n.list.get(t);s?s.forEach(e=>{g(t,e.selector,e.element)}):r.fire("error",Error(`Engine for language '${t}' loaded, but no elements found.`)),0===n.counter[0]&&(e.clearTimeout(a.timeOutHandler),a.hide(0,null),r.fire("hyphenopolyEnd",{msg:"hyphenopolyEnd"}),o.keepAlive||(window.Hyphenopoly=null))}function d(e,t,n,s,l){o.selectors.forEach(t=>{const n=o.get(t);0===n.leftminPerLang&&n.set("leftminPerLang",new Map),0===n.rightminPerLang&&n.set("rightminPerLang",new Map),n.leftminPerLang.set(e,Math.max(s,n.leftmin,Number(n.leftminPerLang.get(e))||0)),n.rightminPerLang.set(e,Math.max(l,n.rightmin,Number(n.rightminPerLang.get(e))||0))}),a.languages||(a.languages=new Map),n=n.replace(/\\*-/g,"\\-"),a.languages.set(e,{alphabet:n,cache:new Map,exc:function(e){let t="";return o.exceptions.has(e)&&(t=o.exceptions.get(e)),o.exceptions.has("global")&&(""===t?t=o.exceptions.get("global"):t+=", "+o.exceptions.get("global")),""===t?new Map:new Map(t.split(", ").map(e=>[e.replace(/-/g,""),e]))}(e),hyphenate:t,ready:!0,reNotAlphabet:RegExp(`[^${n}]`,"i")}),a.hy6ors.get(e).resolve(function(e){return(t,n=".hyphenate")=>("string"!=typeof t&&r.fire("error",Error("This use of hyphenators is deprecated. See https://mnater.github.io/Hyphenopoly/Hyphenators.html")),g(e,n,t))}(e)),r.fire("engineReady",{lang:e}),a.res.els&&f(e,a.res.els)}a.unhyphenate=(()=>(a.res.els.list.forEach(e=>{e.forEach(e=>{const t=e.element.firstChild;t.data=t.data.replace(RegExp(o[e.selector].hyphen,"g"),"")})}),Promise.resolve(a.res.els)));const m=(()=>{const e=new TextDecoder("utf-16le");return t=>e.decode(t)})();function y(e,t){const n=window.WebAssembly;e.w.then(e=>e.ok?n.instantiateStreaming&&"application/wasm"===e.headers.get("Content-Type")?n.instantiateStreaming(e):e.arrayBuffer().then(e=>n.instantiate(e)):Promise.reject(Error(`File ${t}.wasm can't be loaded from ${a.paths.patterndir}`))).then(function(r){const a=r.instance.exports;let s=n.Global?a.lct.value:a.lct;s=function(e,n){return o.substitute.has(t)&&o.substitute.get(t).forEach((t,r)=>{const a=r.toUpperCase(),o=a===r?0:a.charCodeAt(0);e=n.subst(r.charCodeAt(0),o,t.charCodeAt(0))}),e}(s,a),e.l.forEach(e=>{d(e,function(e,t){const n=new Uint16Array(e,0,64);return(r,a,o,s)=>{n.set([46,...[...r].map(e=>e.charCodeAt(0)),46,0]);const l=t(o,s,a);return l>0&&(r=m(new Uint16Array(e,0,l))),r}}(a.mem.buffer,a.hyphenate),m(new Uint16Array(a.mem.buffer,1280,s)),n.Global?a.lmi.value:a.lmi,n.Global?a.rmi.value:a.rmi)})},e=>{r.fire("error",e),a.res.els.rem(t)})}a.main=(()=>{a.res.DOM.then(()=>{(s=l(e.document.documentElement,"",!1))||""===o.defaultLanguage||(s=o.defaultLanguage);const t=i();a.res.els=t,t.list.forEach((e,n)=>{a.languages&&a.languages.has(n)&&a.languages.get(n).ready&&f(n,t)})}),a.res.he.forEach(y),Promise.all([...a.hy6ors.entries()].reduce((e,t)=>"HTML"!==t[0]?e.concat(t[1]):e,[]).concat(a.res.DOM)).then(()=>{a.hy6ors.get("HTML").resolve((e,t=".hyphenate")=>(i(e,t).list.forEach((e,t)=>{e.forEach(e=>{g(t,e.selector,e.element)})}),null))},e=>{r.fire("error",e)})}),a.main()})(Hyphenopoly)})(window,Object);